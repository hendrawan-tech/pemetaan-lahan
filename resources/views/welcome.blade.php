@extends('layouts.front')
@section('content')
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div id="map"></div>
            </div>
        </div>
    </div>
@endsection

@push('styles')
    <style>
        #map {
            height: 80vh;
        }
    </style>
@endpush

@push('scripts')
    <script>
        var map = L.map('map').setView([-7.710526, 113.522840], 15);
        L.tileLayer('http://{s}.google.com/vt?lyrs=m&x={x}&y={y}&z={z}', {
            maxZoom: 20,
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        }).addTo(map);

        var petani = L.icon({
            iconUrl: "{{ asset('assets/onion.png') }}",
            iconSize: [80, 80],
            iconAnchor: [22, 94],
            shadowAnchor: [4, 62],
            popupAnchor: [-3, -76]
        });

        var tengkulak = L.icon({
            iconUrl: "{{ asset('assets/supermarket.png') }}",
            iconSize: [40, 40],
            iconAnchor: [22, 94],
            shadowAnchor: [4, 62],
            popupAnchor: [-3, -76]
        });

        var multiPolygon = [
            [
                [
                    -7.709914396718045,
                    113.537662792108989,
                    0.0
                ],
                [
                    -7.710353639999969,
                    113.53751892,
                    0.0
                ],
                [
                    -7.710896879999975,
                    113.53716,
                    0.0
                ],
                [
                    -7.71140394,
                    113.536801080000032,
                    0.0
                ],
                [
                    -7.711733789999943,
                    113.5365904800001,
                    0.0
                ],
                [
                    -7.711959149999938,
                    113.536459080000057,
                    0.0
                ],
                [
                    -7.712131139999958,
                    113.536407240000031,
                    0.0
                ],
                [
                    -7.71239565,
                    113.536355760000134,
                    0.0
                ],
                [
                    -7.712660069999934,
                    113.536304280000039,
                    0.0
                ],
                [
                    -7.712963819999931,
                    113.536319400000053,
                    0.0
                ],
                [
                    -7.713188189999933,
                    113.536333800000094,
                    0.0
                ],
                [
                    -7.713412649999942,
                    113.536361880000101,
                    0.0
                ],
                [
                    -7.713623789999914,
                    113.536402920000128,
                    0.0
                ],
                [
                    -7.713729449999953,
                    113.536390319999967,
                    0.0
                ],
                [
                    -7.713835649999947,
                    113.536298160000158,
                    0.0
                ],
                [
                    -7.713929429999979,
                    113.5360731600001,
                    0.0
                ],
                [
                    -7.713997019999976,
                    113.535821519999985,
                    0.0
                ],
                [
                    -7.713972,
                    113.535596160000068,
                    0.0
                ],
                [
                    -7.713960029999935,
                    113.5353708,
                    0.0
                ],
                [
                    -7.714001249999971,
                    113.53510584,
                    0.0
                ],
                [
                    -7.714068929999975,
                    113.534827920000097,
                    0.0
                ],
                [
                    -7.714136069999935,
                    113.534642520000034,
                    0.0
                ],
                [
                    -7.714242809999973,
                    113.534470800000037,
                    0.0
                ],
                [
                    -7.714375649999951,
                    113.534325720000112,
                    0.0
                ],
                [
                    -7.714426319999969,
                    113.53422060000004,
                    0.0
                ],
                [
                    -7.714505249999927,
                    113.533934399999978,
                    0.0
                ],
                [
                    -7.714583729999937,
                    113.53370976000005,
                    0.0
                ],
                [
                    -7.714646189999954,
                    113.53360176,
                    0.0
                ],
                [
                    -7.71472367999997,
                    113.533555680000092,
                    0.0
                ],
                [
                    -7.71486264000001,
                    113.533548840000051,
                    0.0
                ],
                [
                    -7.71504822,
                    113.533518960000066,
                    0.0
                ],
                [
                    -7.715179709999955,
                    113.533473240000021,
                    0.0
                ],
                [
                    -7.715288249999965,
                    113.533412040000016,
                    0.0
                ],
                [
                    -7.715404259999971,
                    113.533365960000111,
                    0.0
                ],
                [
                    -7.715581920000016,
                    113.533367040000016,
                    0.0
                ],
                [
                    -7.715968109999906,
                    113.533353720000079,
                    0.0
                ],
                [
                    -7.716153239999947,
                    113.533370640000058,
                    0.0
                ],
                [
                    -7.716269249999954,
                    113.533340040000098,
                    0.0
                ],
                [
                    -7.716362129999911,
                    113.533302239999983,
                    0.0
                ],
                [
                    -7.716490289999946,
                    113.533211880000067,
                    0.0
                ],
                [
                    -7.716645,
                    113.533164360000129,
                    0.0
                ],
                [
                    -7.716857669999968,
                    113.533097760000032,
                    0.0
                ],
                [
                    -7.717137929999975,
                    113.533050960000068,
                    0.0
                ],
                [
                    -7.717514489999957,
                    113.533014240000057,
                    0.0
                ],
                [
                    -7.717775129999939,
                    113.533016040000021,
                    0.0
                ],
                [
                    -7.718054939999909,
                    113.533036920000058,
                    0.0
                ],
                [
                    -7.718363639999961,
                    113.533058160000138,
                    0.0
                ],
                [
                    -7.71876882,
                    113.533099560000096,
                    0.0
                ],
                [
                    -7.718923079999975,
                    113.53313916,
                    0.0
                ],
                [
                    -7.719395039999945,
                    113.533189200000052,
                    0.0
                ],
                [
                    -7.719846209999972,
                    113.533263360000063,
                    0.0
                ],
                [
                    -7.720115759999981,
                    113.533265160000028,
                    0.0
                ],
                [
                    -7.720314029999955,
                    113.533234200000038,
                    0.0
                ],
                [
                    -7.720416989999947,
                    113.533242840000042,
                    0.0
                ],
                [
                    -7.720662149999981,
                    113.533331760000038,
                    0.0
                ],
                [
                    -7.721121149999945,
                    113.533445880000059,
                    0.0
                ],
                [
                    -7.72131896999997,
                    113.533486920000087,
                    0.0
                ],
                [
                    -7.72150284,
                    113.533494480000087,
                    0.0
                ],
                [
                    -7.72194644999993,
                    113.533457400000131,
                    0.0
                ],
                [
                    -7.72231130999992,
                    113.533430040000084,
                    0.0
                ],
                [
                    -7.722745199999938,
                    113.533383240000035,
                    0.0
                ],
                [
                    -7.72294239,
                    113.533384320000124,
                    0.0
                ],
                [
                    -7.723090619999919,
                    113.533306200000055,
                    0.0
                ],
                [
                    -7.723219409999917,
                    113.533188120000048,
                    0.0
                ],
                [
                    -7.723328309999957,
                    113.533109640000035,
                    0.0
                ],
                [
                    -7.723436759999959,
                    113.53310028000007,
                    0.0
                ],
                [
                    -7.723762109999967,
                    113.533082640000117,
                    0.0
                ],
                [
                    -7.724067659999935,
                    113.53308444,
                    0.0
                ],
                [
                    -7.724454659999893,
                    113.533080480000109,
                    0.0
                ],
                [
                    -7.72456328999991,
                    113.533062840000071,
                    0.0
                ],
                [
                    -7.724871359999909,
                    113.532946920000072,
                    0.0
                ],
                [
                    -7.725134249999901,
                    113.532830640000043,
                    0.0
                ],
                [
                    -7.725406319999941,
                    113.532696000000101,
                    0.0
                ],
                [
                    -7.725633209999973,
                    113.53257,
                    0.0
                ],
                [
                    -7.725882689999921,
                    113.532427440000077,
                    0.0
                ],
                [
                    -7.72595883,
                    113.53242996000003,
                    0.0
                ],
                [
                    -7.726206779999913,
                    113.53243752000003,
                    0.0
                ],
                [
                    -7.726405049999887,
                    113.532463440000043,
                    0.0
                ],
                [
                    -7.726649039999913,
                    113.532618600000092,
                    0.0
                ],
                [
                    -7.726831919999945,
                    113.533028640000083,
                    0.0
                ],
                [
                    -7.727067809999923,
                    113.533661160000108,
                    0.0
                ],
                [
                    -7.72720191,
                    113.534182080000051,
                    0.0
                ],
                [
                    -7.727365439999947,
                    113.53445964,
                    0.0
                ],
                [
                    -7.727859719999987,
                    113.534625600000055,
                    0.0
                ],
                [
                    -7.728392609999936,
                    113.534623800000091,
                    0.0
                ],
                [
                    -7.728625169999905,
                    113.534463960000011,
                    0.0
                ],
                [
                    -7.728805439999988,
                    113.534208,
                    0.0
                ],
                [
                    -7.728938729999914,
                    113.533736400000024,
                    0.0
                ],
                [
                    -7.729128269999965,
                    113.533266960000091,
                    0.0
                ],
                [
                    -7.729416539999924,
                    113.53291272,
                    0.0
                ],
                [
                    -7.729567019999941,
                    113.532838200000057,
                    0.0
                ],
                [
                    -7.729654859999926,
                    113.532816240000102,
                    0.0
                ],
                [
                    -7.729776269999935,
                    113.532785640000057,
                    0.0
                ],
                [
                    -7.72989948,
                    113.532909480000086,
                    0.0
                ],
                [
                    -7.730007209999947,
                    113.533118280000039,
                    0.0
                ],
                [
                    -7.730103959999958,
                    113.533359480000016,
                    0.0
                ],
                [
                    -7.73020116,
                    113.533502400000117,
                    0.0
                ],
                [
                    -7.730331569999962,
                    113.533557840000086,
                    0.0
                ],
                [
                    -7.730516969999936,
                    113.53355892,
                    0.0
                ],
                [
                    -7.730756909999982,
                    113.53352760000007,
                    0.0
                ],
                [
                    -7.730920529999931,
                    113.53349556,
                    0.0
                ],
                [
                    -7.731138959999974,
                    113.533431120000088,
                    0.0
                ],
                [
                    -7.731335519999984,
                    113.533355880000073,
                    0.0
                ],
                [
                    -7.731488339999927,
                    113.533313040000081,
                    0.0
                ],
                [
                    -7.73169542999992,
                    113.533303320000073,
                    0.0
                ],
                [
                    -7.73191323,
                    113.53333752000006,
                    0.0
                ],
                [
                    -7.732033109999971,
                    113.533338240000035,
                    0.0
                ],
                [
                    -7.73218610999993,
                    113.533262640000089,
                    0.0
                ],
                [
                    -7.732371959999941,
                    113.533176240000131,
                    0.0
                ],
                [
                    -7.73249193,
                    113.533165799999978,
                    0.0
                ],
                [
                    -7.732644569999938,
                    113.533155720000124,
                    0.0
                ],
                [
                    -7.73275374,
                    113.533134480000058,
                    0.0
                ],
                [
                    -7.732830419999949,
                    113.533058520000068,
                    0.0
                ],
                [
                    -7.732907729999951,
                    113.532883920000017,
                    0.0
                ],
                [
                    -7.733017349999962,
                    113.532775200000074,
                    0.0
                ],
                [
                    -7.73310465,
                    113.532764760000106,
                    0.0
                ],
                [
                    -7.733224169999932,
                    113.532809040000032,
                    0.0
                ],
                [
                    -7.73348642999996,
                    113.533016400000051,
                    0.0
                ],
                [
                    -7.733699549999919,
                    113.53314672000009,
                    0.0
                ],
                [
                    -7.733827889999969,
                    113.533157880000118,
                    0.0
                ],
                [
                    -7.733967119999942,
                    113.533126560000014,
                    0.0
                ],
                [
                    -7.734117329999936,
                    113.533074,
                    0.0
                ],
                [
                    -7.734235589999951,
                    113.532967080000063,
                    0.0
                ],
                [
                    -7.734493979999925,
                    113.532689520000091,
                    0.0
                ],
                [
                    -7.734676859999958,
                    113.53252932000008,
                    0.0
                ],
                [
                    -7.734955949999957,
                    113.532369840000115,
                    0.0
                ],
                [
                    -7.735138289999945,
                    113.532285240000036,
                    0.0
                ],
                [
                    -7.735277429999911,
                    113.532275520000127,
                    0.0
                ],
                [
                    -7.735405499999938,
                    113.532340680000104,
                    0.0
                ],
                [
                    -7.7355649799999,
                    113.532502680000093,
                    0.0
                ],
                [
                    -7.735767119999927,
                    113.53268628,
                    0.0
                ],
                [
                    -7.735873949999885,
                    113.5327194,
                    0.0
                ],
                [
                    -7.735959719999965,
                    113.532698160000095,
                    0.0
                ],
                [
                    -7.736035139999988,
                    113.532612840000056,
                    0.0
                ],
                [
                    -7.736089229999934,
                    113.532505560000146,
                    0.0
                ],
                [
                    -7.736090939999897,
                    113.532215760000071,
                    0.0
                ],
                [
                    -7.736113979999939,
                    113.531947560000077,
                    0.0
                ],
                [
                    -7.736189669999895,
                    113.531797440000091,
                    0.0
                ],
                [
                    -7.736318729999915,
                    113.53169088000007,
                    0.0
                ],
                [
                    -7.736490359999905,
                    113.531616720000059,
                    0.0
                ],
                [
                    -7.736632739999962,
                    113.53163076000007,
                    0.0
                ],
                [
                    -7.736873489999898,
                    113.531758560000071,
                    0.0
                ],
                [
                    -7.737302339999943,
                    113.532024600000142,
                    0.0
                ],
                [
                    -7.737668729999971,
                    113.53219524000005,
                    0.0
                ],
                [
                    -7.737983099999958,
                    113.532302880000074,
                    0.0
                ],
                [
                    -7.738224299999931,
                    113.53234644000004,
                    0.0
                ],
                [
                    -7.738497269999957,
                    113.532358320000043,
                    0.0
                ],
                [
                    -7.738802009999947,
                    113.532307560000021,
                    0.0
                ],
                [
                    -7.739064899999939,
                    113.532224760000105,
                    0.0
                ],
                [
                    -7.739294669999943,
                    113.532182640000073,
                    0.0
                ],
                [
                    -7.739301239999953,
                    113.53208795999997,
                    0.0
                ],
                [
                    -7.73934057000001,
                    113.531523120000131,
                    0.0
                ],
                [
                    -7.739312309999981,
                    113.531175360000049,
                    0.0
                ],
                [
                    -7.738595640000014,
                    113.530825800000073,
                    0.0
                ],
                [
                    -7.737888689999963,
                    113.530359240000024,
                    0.0
                ],
                [
                    -7.737633629999909,
                    113.528687760000011,
                    0.0
                ],
                [
                    -7.73761752,
                    113.528431800000064,
                    0.0
                ],
                [
                    -7.737581609999957,
                    113.52786228,
                    0.0
                ],
                [
                    -7.737505649999978,
                    113.526866160000012,
                    0.0
                ],
                [
                    -7.737485219999975,
                    113.525891280000096,
                    0.0
                ],
                [
                    -7.737221879999947,
                    113.525747640000105,
                    0.0
                ],
                [
                    -7.735637069999914,
                    113.525578080000017,
                    0.0
                ],
                [
                    -7.733835449999972,
                    113.525493480000037,
                    0.0
                ],
                [
                    -7.733132009999945,
                    113.525856720000078,
                    0.0
                ],
                [
                    -7.732442249999984,
                    113.526213120000079,
                    0.0
                ],
                [
                    -7.732453589999945,
                    113.52643344,
                    0.0
                ],
                [
                    -7.732525229999922,
                    113.526618120000094,
                    0.0
                ],
                [
                    -7.732466099999915,
                    113.526580680000023,
                    0.0
                ],
                [
                    -7.732306260000012,
                    113.526480960000029,
                    0.0
                ],
                [
                    -7.732013129999917,
                    113.526329040000078,
                    0.0
                ],
                [
                    -7.731832229999959,
                    113.526234360000146,
                    0.0
                ],
                [
                    -7.731639989999952,
                    113.526177480000143,
                    0.0
                ],
                [
                    -7.731343169999906,
                    113.52616776000005,
                    0.0
                ],
                [
                    -7.731055079999962,
                    113.5261692,
                    0.0
                ],
                [
                    -7.730944469999958,
                    113.526123480000024,
                    0.0
                ],
                [
                    -7.731166949999892,
                    113.526007560000025,
                    0.0
                ],
                [
                    -7.730865089999963,
                    113.525169120000115,
                    0.0
                ],
                [
                    -7.730841239999943,
                    113.524648200000087,
                    0.0
                ],
                [
                    -7.730841869999907,
                    113.52429828,
                    0.0
                ],
                [
                    -7.730830979999983,
                    113.524139520000105,
                    0.0
                ],
                [
                    -7.73081567999996,
                    113.523861960000048,
                    0.0
                ],
                [
                    -7.730776979999956,
                    113.523422039999971,
                    0.0
                ],
                [
                    -7.730664479999973,
                    113.522708160000064,
                    0.0
                ],
                [
                    -7.730652329999945,
                    113.522629680000051,
                    0.0
                ],
                [
                    -7.73077715999997,
                    113.522531400000091,
                    0.0
                ],
                [
                    -7.730622539999967,
                    113.522248080000097,
                    0.0
                ],
                [
                    -7.730768609999885,
                    113.522238,
                    0.0
                ],
                [
                    -7.731123749999959,
                    113.522234400000116,
                    0.0
                ],
                [
                    -7.731229859999946,
                    113.52222792000012,
                    0.0
                ],
                [
                    -7.731356309999928,
                    113.522212440000075,
                    0.0
                ],
                [
                    -7.731381869999911,
                    113.522211359999986,
                    0.0
                ],
                [
                    -7.731453059999939,
                    113.522205960000079,
                    0.0
                ],
                [
                    -7.731560969999986,
                    113.52219876,
                    0.0
                ],
                [
                    -7.731842219999987,
                    113.522309280000101,
                    0.0
                ],
                [
                    -7.731533069999987,
                    113.52063132,
                    0.0
                ],
                [
                    -7.730560889999929,
                    113.520563280000047,
                    0.0
                ],
                [
                    -7.730385389999974,
                    113.520542400000096,
                    0.0
                ],
                [
                    -7.730034479999983,
                    113.52053520000004,
                    0.0
                ],
                [
                    -7.729899749999937,
                    113.520567600000049,
                    0.0
                ],
                [
                    -7.72961706,
                    113.520620880000024,
                    0.0
                ],
                [
                    -7.729420949999934,
                    113.520641400000031,
                    0.0
                ],
                [
                    -7.729240139999984,
                    113.520660120000159,
                    0.0
                ],
                [
                    -7.729081469999912,
                    113.52064248000012,
                    0.0
                ],
                [
                    -7.728940439999967,
                    113.520601440000107,
                    0.0
                ],
                [
                    -7.728808589999982,
                    113.520593520000062,
                    0.0
                ],
                [
                    -7.728460469999956,
                    113.520611880000075,
                    0.0
                ],
                [
                    -7.728364799999945,
                    113.521122720000065,
                    0.0
                ],
                [
                    -7.72826994,
                    113.521721760000077,
                    0.0
                ],
                [
                    -7.728183989999906,
                    113.52254760000001,
                    0.0
                ],
                [
                    -7.72806924,
                    113.523170760000056,
                    0.0
                ],
                [
                    -7.72785234,
                    113.523541920000042,
                    0.0
                ],
                [
                    -7.727554619999967,
                    113.523908760000012,
                    0.0
                ],
                [
                    -7.72730333999996,
                    113.524119,
                    0.0
                ],
                [
                    -7.726693049999913,
                    113.523837480000154,
                    0.0
                ],
                [
                    -7.726292189999963,
                    113.523718680000101,
                    0.0
                ],
                [
                    -7.726130639999919,
                    113.5236744,
                    0.0
                ],
                [
                    -7.725222899999952,
                    113.523456240000058,
                    0.0
                ],
                [
                    -7.724620349999924,
                    113.52334608,
                    0.0
                ],
                [
                    -7.724245769999929,
                    113.52325608000001,
                    0.0
                ],
                [
                    -7.723723319999955,
                    113.5230714,
                    0.0
                ],
                [
                    -7.723408049999893,
                    113.522947560000063,
                    0.0
                ],
                [
                    -7.722246419999969,
                    113.52251088,
                    0.0
                ],
                [
                    -7.721217989999964,
                    113.522462640000086,
                    0.0
                ],
                [
                    -7.719987959999976,
                    113.522489280000073,
                    0.0
                ],
                [
                    -7.719323129999946,
                    113.522591160000061,
                    0.0
                ],
                [
                    -7.718957639999903,
                    113.522637600000081,
                    0.0
                ],
                [
                    -7.718593949999921,
                    113.522665680000017,
                    0.0
                ],
                [
                    -7.718414309999979,
                    113.522694840000113,
                    0.0
                ],
                [
                    -7.717638599999923,
                    113.522800680000074,
                    0.0
                ],
                [
                    -7.717378499999896,
                    113.522825880000028,
                    0.0
                ],
                [
                    -7.717102379999965,
                    113.522828400000066,
                    0.0
                ],
                [
                    -7.716848489999919,
                    113.522857920000106,
                    0.0
                ],
                [
                    -7.716657149999985,
                    113.52288276000003,
                    0.0
                ],
                [
                    -7.716620249999952,
                    113.522776200000095,
                    0.0
                ],
                [
                    -7.716604589999989,
                    113.522717160000099,
                    0.0
                ],
                [
                    -7.716593249999939,
                    113.522633640000109,
                    0.0
                ],
                [
                    -7.716437459999927,
                    113.52172212,
                    0.0
                ],
                [
                    -7.716279239999981,
                    113.520796200000049,
                    0.0
                ],
                [
                    -7.716245939999979,
                    113.520655800000071,
                    0.0
                ],
                [
                    -7.716175019999973,
                    113.520298320000066,
                    0.0
                ],
                [
                    -7.71603462,
                    113.519502720000148,
                    0.0
                ],
                [
                    -7.715933279999955,
                    113.51892852000006,
                    0.0
                ],
                [
                    -7.715786129999948,
                    113.518097640000065,
                    0.0
                ],
                [
                    -7.715754359999984,
                    113.517946800000104,
                    0.0
                ],
                [
                    -7.715700629999979,
                    113.517608400000086,
                    0.0
                ],
                [
                    -7.71566976,
                    113.51741544,
                    0.0
                ],
                [
                    -7.71552918,
                    113.516537760000048,
                    0.0
                ],
                [
                    -7.715456459999938,
                    113.516084160000091,
                    0.0
                ],
                [
                    -7.71530453999998,
                    113.516120880000017,
                    0.0
                ],
                [
                    -7.714597949999959,
                    113.516301600000048,
                    0.0
                ],
                [
                    -7.714452779999938,
                    113.51633328,
                    0.0
                ],
                [
                    -7.714128419999923,
                    113.516413920000105,
                    0.0
                ],
                [
                    -7.713756449999966,
                    113.516478360000107,
                    0.0
                ],
                [
                    -7.71342848999992,
                    113.516523360000093,
                    0.0
                ],
                [
                    -7.713328139999966,
                    113.516537400000104,
                    0.0
                ],
                [
                    -7.71301556999995,
                    113.51662740000009,
                    0.0
                ],
                [
                    -7.712635409999937,
                    113.516725320000106,
                    0.0
                ],
                [
                    -7.711905959999978,
                    113.516875800000122,
                    0.0
                ],
                [
                    -7.710113879999938,
                    113.517301320000072,
                    0.0
                ],
                [
                    -7.709999219999954,
                    113.517358200000075,
                    0.0
                ],
                [
                    -7.708984919999963,
                    113.518057680000126,
                    0.0
                ],
                [
                    -7.708105619999952,
                    113.518619640000082,
                    0.0
                ],
                [
                    -7.707247919999951,
                    113.519198160000073,
                    0.0
                ],
                [
                    -7.707013559999922,
                    113.519289960000037,
                    0.0
                ],
                [
                    -7.706654819999905,
                    113.519370960000074,
                    0.0
                ],
                [
                    -7.7061987,
                    113.519550600000102,
                    0.0
                ],
                [
                    -7.706124,
                    113.519603160000102,
                    0.0
                ],
                [
                    -7.70573492999991,
                    113.519878560000066,
                    0.0
                ],
                [
                    -7.70565456000001,
                    113.519912760000054,
                    0.0
                ],
                [
                    -7.705209150000016,
                    113.520130560000126,
                    0.0
                ],
                [
                    -7.705102679999911,
                    113.52016224000009,
                    0.0
                ],
                [
                    -7.705563501531955,
                    113.520788232482744,
                    0.0
                ],
                [
                    -7.705637999999883,
                    113.520889,
                    0.0
                ],
                [
                    -7.705842,
                    113.521202,
                    0.0
                ],
                [
                    -7.706099797354639,
                    113.521705318645033,
                    0.0
                ],
                [
                    -7.706850479999929,
                    113.523168600000062,
                    0.0
                ],
                [
                    -7.707415499999961,
                    113.524129080000122,
                    0.0
                ],
                [
                    -7.707653729999954,
                    113.5247094,
                    0.0
                ],
                [
                    -7.707685749854633,
                    113.524742385277449,
                    0.0
                ],
                [
                    -7.707725,
                    113.52478,
                    0.0
                ],
                [
                    -7.708042,
                    113.525329,
                    0.0
                ],
                [
                    -7.708207,
                    113.525643,
                    0.0
                ],
                [
                    -7.708986,
                    113.527412000000155,
                    0.0
                ],
                [
                    -7.709193,
                    113.527923,
                    0.0
                ],
                [
                    -7.709428742454307,
                    113.528648041654606,
                    0.0
                ],
                [
                    -7.709590259999956,
                    113.529143880000092,
                    0.0
                ],
                [
                    -7.709748209999969,
                    113.529731040000087,
                    0.0
                ],
                [
                    -7.709952869999938,
                    113.530386600000071,
                    0.0
                ],
                [
                    -7.710038819999944,
                    113.530893120000059,
                    0.0
                ],
                [
                    -7.71011855999997,
                    113.531257800000034,
                    0.0
                ],
                [
                    -7.71024231,
                    113.53158396000002,
                    0.0
                ],
                [
                    -7.710251579999962,
                    113.531607720000025,
                    0.0
                ],
                [
                    -7.71038082,
                    113.531941800000041,
                    0.0
                ],
                [
                    -7.710446159999986,
                    113.532232680000135,
                    0.0
                ],
                [
                    -7.71050214,
                    113.532623640000153,
                    0.0
                ],
                [
                    -7.710568469999981,
                    113.533102440000064,
                    0.0
                ],
                [
                    -7.710489899999963,
                    113.53412952000005,
                    0.0
                ],
                [
                    -7.710254639999949,
                    113.534945640000075,
                    0.0
                ],
                [
                    -7.710223342657986,
                    113.535015769229162,
                    0.0
                ],
                [
                    -7.710222,
                    113.53501900000019,
                    0.0
                ],
                [
                    -7.710221628318205,
                    113.535019610620097,
                    0.0
                ],
                [
                    -7.710215759999929,
                    113.53503276,
                    0.0
                ],
                [
                    -7.709989075166625,
                    113.535450391891118,
                    0.0
                ],
                [
                    -7.709881,
                    113.535652000000169,
                    0.0
                ],
                [
                    -7.709864874328922,
                    113.535694119290085,
                    0.0
                ],
                [
                    -7.709815079999906,
                    113.535831240000078,
                    0.0
                ],
                [
                    -7.709845679999951,
                    113.536215360000057,
                    0.0
                ],
                [
                    -7.709894549999909,
                    113.536747440000113,
                    0.0
                ],
                [
                    -7.709885369999949,
                    113.536960559999983,
                    0.0
                ],
                [
                    -7.709885160865728,
                    113.53696117496753,
                    0.0
                ],
                [
                    -7.709885,
                    113.536965,
                    0.0
                ],
                [
                    -7.709835447868453,
                    113.537107710138997,
                    0.0
                ],
                [
                    -7.70983707156341,
                    113.537123449155047,
                    0.0
                ],
                [
                    -7.709914396718045,
                    113.537662792108989,
                    0.0
                ]
            ]
        ];

        L.polygon(multiPolygon, {
            color: 'red'
        }).addTo(map);

        $(document).ready(function() {
            $.getJSON('/get-map', function(data) {
                $.each(data, function(i) {
                    var marker = L.marker([parseFloat(data[i]
                        .longitude), parseFloat(data[i].lattitude)], {
                        icon: petani
                    }).addTo(
                        map)
                    marker.on('click', function() {
                        var content = `<div>
                        <div class="card-body p-0 pt-2 m-0">
                            <div class="d-flex justify-content-between align-items-start">
                                <h5 class="card-title">
                                    ${data[i].name}
                                </h5>
                            </div>
                            <span class="card-text">Status : ${data[i].status}</span>
                            <br>
                            ${data[i].product.length > 0 ?` ${data[i].product[0].status == 'Proses' ? '' : `<span class="card-text">Produk : ${data[i].product[0].name}</span></br>
                                                        <span class="card-text">Status : ${data[i].product[0].status}</span><br>
                                                        <span class="card-text">Harga : ${data[i].product[0].price} /kg</span><br>
                                                    <span class="card-text">Jumlah Stok : ${data[i].product[0].stok}</span><br>
                                                    <a href="/cart/${data[i].product[0].id}" class="btn btn-sm ` +
                                                                                                                            `<?= $total > $limit->limit ? 'd-block' : 'd-none' ?>` + ` text-white btn-primary mt-3">+Keranjang</a>`} `
                                            : ``}
                            ${data[i].product.length > 0 ?` <a href="/product/${data[i].product[0].id}" class="btn btn-outline-primary btn-sm d-block text-primary mt-1">Lihat Detail</a>`
                            : ``}
                        </div>
                    </div>`
                        L.popup()
                            .setLatLng([parseFloat(data[i].longitude), parseFloat(data[i]
                                .lattitude)])
                            .setContent(content)
                            .openOn(map);
                    })
                })
            })
            $.getJSON('/get-geo', function(geo) {
                $.each(geo, function(i) {
                    var marker = L.marker([parseFloat(geo[i]
                        .longitude), parseFloat(geo[i].lattitude)], {
                        icon: tengkulak
                    }).addTo(
                        map)
                    marker.on('click', function() {
                        var content = `<div>
                    <div class="card-body p-0 pt-2 m-0">
                        <h5 class="card-title">
                            ${geo[i].name}
                        </h5>
                        <span class="card-text">Produk : ${geo[i].product.length}</span>
                        ${geo[i].product.length > 0 ? `<a href="/product/tengkulak/${geo[i].id}" class="btn btn-outline-primary btn-sm d-block text-primary mt-1">Lihat Detail</a>` : ``}
                    </div>`
                        L.popup()
                            .setLatLng([parseFloat(geo[i].longitude), parseFloat(geo[i]
                                .lattitude)])
                            .setContent(content)
                            .openOn(map);
                    })
                })
            })
        })
    </script>
@endpush
